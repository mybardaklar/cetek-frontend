extends ../../layouts/Default.layout.pug

include ./components/Hero.component.pug
include ./components/Services.component.pug
include ./components/About.component.pug
include ./components/ProductCategories.component.pug
include ./components/Testimonials.component.pug
include ./components/SectoralNozzles.component.pug

block prepend head
	- PageProps.title = pageSettings.meta_title
	- PageProps.metaDescription = pageSettings.meta_description
	- PageProps.metaKeywords = pageSettings.meta_keywords

block append scripts
	script.
		document.addEventListener("DOMContentLoaded", () => {
			const PageHomeHeroSlider = new KeenSlider(
				"#PageHomeHeroSlider",
				{
					loop: true,
					slides: {
						perView: 1,
					},
				},
				[
					(slider) => {
						let timeout;
						let mouseOver = false;
						function clearNextTimeout() {
							clearTimeout(timeout);
						}
						function nextTimeout() {
							clearTimeout(timeout);
							if (mouseOver) return;
							timeout = setTimeout(() => {
								slider.next();
							}, 4000);
						}
						slider.on("created", () => {
							slider.container.addEventListener("mouseover", () => {
								mouseOver = true;
								clearNextTimeout();
							});
							slider.container.addEventListener("mouseout", () => {
								mouseOver = false;
								nextTimeout();
							});
							nextTimeout();
						});
						slider.on("dragStarted", clearNextTimeout);
						slider.on("animationEnded", nextTimeout);
						slider.on("updated", nextTimeout);
					},
				],
			);

			const $PageHomeHeroSliderPrevButton = document.getElementById("PageHomeHeroSliderPrevButton");
			const $PageHomeHeroSliderNextButton = document.getElementById("PageHomeHeroSliderNextButton");

			$PageHomeHeroSliderPrevButton.addEventListener("click", () => PageHomeHeroSlider.prev());
			$PageHomeHeroSliderNextButton.addEventListener("click", () => PageHomeHeroSlider.next());

			const PageHomeSectoralNozzlesSlider = new KeenSlider(
				"#PageHomeSectoralNozzlesSlider",
				{
					loop: true,
					slides: {
						perView: 1,
					},
					breakpoints: {
						"(min-width: 640px)": {
							slides: { perView: 2 },
						},
						"(min-width: 1024px)": {
							slides: { perView: 3 },
						},
						"(min-width: 1280px)": {
							slides: { perView: 3 },
						},
						"(min-width: 1536px)": {
							slides: { perView: 4 },
						},
					},
				},
				[
					(slider) => {
						let timeout;
						let mouseOver = false;
						function clearNextTimeout() {
							clearTimeout(timeout);
						}
						function nextTimeout() {
							clearTimeout(timeout);
							if (mouseOver) return;
							timeout = setTimeout(() => {
								slider.next();
							}, 4000);
						}
						slider.on("created", () => {
							slider.container.addEventListener("mouseover", () => {
								mouseOver = true;
								clearNextTimeout();
							});
							slider.container.addEventListener("mouseout", () => {
								mouseOver = false;
								nextTimeout();
							});
							nextTimeout();
						});
						slider.on("dragStarted", clearNextTimeout);
						slider.on("animationEnded", nextTimeout);
						slider.on("updated", nextTimeout);
					},
				],
			);

			const $PageHomeSectoralNozzlesSliderPrevButton = document.getElementById("PageHomeSectoralNozzlesSliderPrevButton");
			const $PageHomeSectoralNozzlesSliderNextButton = document.getElementById("PageHomeSectoralNozzlesSliderNextButton");

			$PageHomeSectoralNozzlesSliderPrevButton.addEventListener("click", () => PageHomeSectoralNozzlesSlider.prev());
			$PageHomeSectoralNozzlesSliderNextButton.addEventListener("click", () => PageHomeSectoralNozzlesSlider.next());

			const PageHomeProductCategoriesSlider = new KeenSlider(
				"#PageHomeProductCategoriesSlider",
				{
					loop: true,
					slides: {
						perView: 1,
					},
					breakpoints: {
						"(min-width: 640px)": {
							slides: { perView: 2 },
						},
						"(min-width: 1024px)": {
							slides: { perView: 3 },
						},
						"(min-width: 1280px)": {
							slides: { perView: 3 },
						},
						"(min-width: 1536px)": {
							slides: { perView: 4 },
						},
					},
				},
				[
					(slider) => {
						let timeout;
						let mouseOver = false;
						function clearNextTimeout() {
							clearTimeout(timeout);
						}
						function nextTimeout() {
							clearTimeout(timeout);
							if (mouseOver) return;
							timeout = setTimeout(() => {
								slider.next();
							}, 4000);
						}
						slider.on("created", () => {
							slider.container.addEventListener("mouseover", () => {
								mouseOver = true;
								clearNextTimeout();
							});
							slider.container.addEventListener("mouseout", () => {
								mouseOver = false;
								nextTimeout();
							});
							nextTimeout();
						});
						slider.on("dragStarted", clearNextTimeout);
						slider.on("animationEnded", nextTimeout);
						slider.on("updated", nextTimeout);
					},
				],
			);

			const $PageHomeProductCategoriesSliderPrevButton = document.getElementById("PageHomeProductCategoriesSliderPrevButton");
			const $PageHomeProductCategoriesSliderNextButton = document.getElementById("PageHomeProductCategoriesSliderNextButton");

			$PageHomeProductCategoriesSliderPrevButton.addEventListener("click", () => PageHomeProductCategoriesSlider.prev());
			$PageHomeProductCategoriesSliderNextButton.addEventListener("click", () => PageHomeProductCategoriesSlider.next());

			const PageHomeTestimonialsSlider = new KeenSlider(
				"#PageHomeTestimonialsSlider",
				{
					loop: true,
					slides: {
						perView: 1,
					},
				},
				[
					(slider) => {
						let timeout;
						let mouseOver = false;
						function clearNextTimeout() {
							clearTimeout(timeout);
						}
						function nextTimeout() {
							clearTimeout(timeout);
							if (mouseOver) return;
							timeout = setTimeout(() => {
								slider.next();
							}, 4000);
						}
						slider.on("created", () => {
							slider.container.addEventListener("mouseover", () => {
								mouseOver = true;
								clearNextTimeout();
							});
							slider.container.addEventListener("mouseout", () => {
								mouseOver = false;
								nextTimeout();
							});
							nextTimeout();
						});
						slider.on("dragStarted", clearNextTimeout);
						slider.on("animationEnded", nextTimeout);
						slider.on("updated", nextTimeout);
					},
				],
			);

			const $PageHomeTestimonialsSliderPrevButton = document.getElementById("PageHomeTestimonialsSliderPrevButton");
			const $PageHomeTestimonialsSliderNextButton = document.getElementById("PageHomeTestimonialsSliderNextButton");

			$PageHomeTestimonialsSliderPrevButton.addEventListener("click", () => PageHomeTestimonialsSlider.prev());
			$PageHomeTestimonialsSliderNextButton.addEventListener("click", () => PageHomeTestimonialsSlider.next());
		});

block body
	+SectionHero
	+SectionServices
	+SectionAbout
	+SectionProductCategories
	+SectionTestimonials
	+SectionSectoralNozzles
